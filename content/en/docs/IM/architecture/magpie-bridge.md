---
title: "客户端接入服务(Magpie Bridge)"
linkTitle: "客户端接入服务(Magpie Bridge)"
date: 2022-03-20
weight: 20220320
---

### 1 概述

客户端接入服务(Magpie Bridge)-鹊桥(名字来源探月工程的中继卫星名称)。正如名称一样功能就是做一个消息的转发工作，将客户端发送的消息转发给消息处理服务，处理完成后接着将消息转发给接收消息的客户端。

### 2. 架构

![客户端接入服务架构](E:\download\客户端接入服务架构.png)

- 从DNS服务器获取注册中心的IP地址
- 启动的客户端接入服务注册到注册中心集群
- 从注册中心获取到消息处理服务IP，客户端接入服务连接消息处理服务并且维持长连接
- 连接客户端，并且将客户端消息转发给消息处理服务处理，并且将消息处理服务发送的数据转发给对应的接收客户端

### 3. 功能

![客户端接入服务功能](E:\download\客户端接入服务功能.png)
